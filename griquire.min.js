!function(){var t=function(t,e,n,o,i){var c;if("undefined"!=typeof XMLHttpRequest)c=new XMLHttpRequest;else for(var f=["MSXML2.XmlHttp.5.0","MSXML2.XmlHttp.4.0","MSXML2.XmlHttp.3.0","MSXML2.XmlHttp.2.0","Microsoft.XmlHttp"],r=0,a=f.length;a>r;r++)try{c=new ActiveXObject(f[r]);break}catch(u){}if(f=[],n&&n instanceof Object&&0<Object.keys(n).length)for(var s in n)f.push(s+"="+encodeURIComponent(n[s]));f=f.join("&"),t=t.toUpperCase(),"POST"==t&&n&&0<Object.keys(n).length&&c.setRequestHeader("Content-type","application/x-www-form-urlencoded"),"GET"==t&&n&&0<Object.keys(n).length&&(n=e.indexOf("?"),e+=(n>0?"&":"?")+f),c.open(t,e,!0),c.onreadystatechange=function(){4==c.readyState&&(200<=c.status&&299>=c.status?"function"==typeof o&&o(c.responseText):"function"==typeof i&&i(c.responseText))},c.send(f)},e={},n=function(o,i){e[o]&&e[o].content?"function"==typeof i&&i():e[o]?setTimeout(function(){n(o,i)},20):(e[o]={},t("get",o,{},function(t){e[o]={content:t},"function"==typeof i&&i()}))},o=function(t,e){var o=t.length;t.forEach(function(t){n(t,function(){0==--o&&"function"==typeof e&&e()})})},i=function(t){if(!e[t]||!e[t].content)return void console.error(t+" has to be loaded before embedded");if(!e[t].loaded){var n=document.createElement("script");n.textContent="/** "+t+" ("+(new Date).toISOString()+") **/\n"+e[t].content,document.getElementsByTagName("head")[0].appendChild(n),e[t].loaded=!0}},c=function(){var t=[],e=function(t){return"function"==typeof t?{action:"execute",item:t}:"string"==typeof t?{action:"load",item:t}:!1},o=!1,c=function(){if(!o&&0!=t.length){o=!0;var e=t.shift();e===!1?(o=!1,c()):"load"==e.action?n(e.item,function(){i(e.item),o=!1,c()}):"execute"==e.action&&(e.item(),o=!1,c())}},f={append:function(n){n instanceof Array||(n=[n]),n.forEach(function(n){t.push(e(n))}),c()},inject:function(n){n instanceof Array||(n=[n]),n.reverse().forEach(function(n){t.unshift(e(n))}),c()}};return f}(),f={};window.griquire=function(t,e){if(t&&"string"==typeof t&&(t=[t]),t&&t.length>0){o(t);var n=t.slice(0);f[t.join(",")]||(n.push(e),f[t.join(",")]=!0),c.inject(n)}else"function"==typeof e&&e()}}();
